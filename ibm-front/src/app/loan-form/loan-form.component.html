<app-menu-bar></app-menu-bar>
<section class="overview-page__banner" aria-label="overview page banner">
  <div class="container">
    <h1>Peripheral Loan Registration</h1>
    <form [formGroup]="loanForm" (ngSubmit)="sendForm()" class="form">
      <div>
        <ibm-label *ngFor="let product of fields">
          {{product.name}}
          <input ibmText type="{{product.type}}" [autocomplete]="false" required formControlName="{{product.name}}">
        </ibm-label>
      </div>
      <br><br><br><br>
      <button ibmButton="secondary" [routerLink]="['../home']">Cancel Registration</button>
      <button #trigger ibmButton="primary" (click)="open = true">Confirm Registration</button>
    </form>

    <ibm-modal [open]="open" [trigger]="trigger" (overlaySelected)="open = false">
      <ibm-modal-header (closeSelect)="open = false" [showCloseButton]="showCloseButton">
        <p class="bx--modal-header__label bx--type-delta">Confirmation</p>
        <p class="bx--modal-header__heading bx--type-beta">Please verify the information entered is correct</p>
      </ibm-modal-header>
      <div class="bx--modal-content">
        <ibm-label *ngFor="let product of fields">
          {{product.name}}
          <input ibmText placeholder="{{this.loanForm.controls[product.name].value}}" readonly />
        </ibm-label>
        <!-- {{this.loanForm.value | json}} -->
      </div>
      <ibm-modal-footer>
        <ng-container>
          <button ibmButton="primary" (click)="open = false" [attr.modal-primary-focus]="true">
            Confirm
          </button>
        </ng-container>
      </ibm-modal-footer>
    </ibm-modal>
    <div class="container">
      <div class="Separate">
        <h1>Peripheral Loan Registration</h1>
      </div>
      <div ibmGrid class="IBM-Grid">
        <div ibmRow>
          <div ibmCol class="multi-selection">
            <button ibmButton="primary" (click)="resetFilters()" class="reset-button">Reset Filters</button>
            <fieldset class="bx--fieldset">
              <legend class="bx--label">Device Status</legend>
              <ibm-radio-group aria-label="radiogroup" orientation="vertical" labelPlacement="right">
                <ibm-radio *ngFor="let radio of radios" [value]="radio.color">
                  {{radio.color}}
                </ibm-radio>
              </ibm-radio-group>
            </fieldset>
            <fieldset class="bx--fieldset">
              <div ibmRow>
                <div ibmCol>
                  <legend class="bx--label">Device Type</legend>
                </div>
                <div ibmCol>
                  <ibm-tag-filter *ngIf="deviceTypeFilters.length > 0">
                    {{deviceTypeFilters.length}}
                  </ibm-tag-filter>
                </div>
              </div>
              <ibm-checkbox *ngFor="let listItem of deviceType" [checked]="listItem.checked">
                {{ listItem.value }}
              </ibm-checkbox>
            </fieldset>
          </div>
          <div ibmCol [columnNumbers]="{'lg': 10, 'md': 10, 'sm': 3}" class="CardParent">
            <div *ngFor="let device of peripheralList" class="DeviceCard">
              <img src="../../assets/device.png" alt="">
              <div class="DeviceCard--Info">

                <p>{{device.description}}</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
